(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(n,e,t){},106:function(n,e,t){},107:function(n,e,t){},108:function(n,e,t){},109:function(n,e,t){"use strict";t.r(e);var r,o,c,i,a,s,l=t(2),d=t.n(l),b=t(50),u=t.n(b),p=t(4),j=t(58),x=t(6),h=t(51),f=t(59),O=function(n){var e=n.children,t=Object(l.useState)(null),r=Object(p.a)(t,2),o=r[0],c=r[1];return Object(l.useEffect)((function(){var n=new f.a({urls:{BD:"/sounds/the-kick.wav",CP:"/sounds/snare.wav",OH:"/sounds/hh_open.wav",CH:"/sounds/hh_closed.wav",FS:"/sounds/bassFS.wav",EF:"/sounds/bassEF.wav",CS:"/sounds/bassCS.wav",BF:"/sounds/bassBF.wav",CATHFS:"/sounds/catHighFS.wav",CATEF:"/sounds/catEF.wav",CATCS:"/sounds/catCS.wav",CATAF:"/sounds/catAF.wav",CATFS:"/sounds/catFS.wav"},onload:function(){console.log("buffers loaded"),c(n)}}).toDestination()}),[]),e({player:o})},v=t(5),g={triggered:!1,activated:!1},m=["CATHFS","CATEF","CATCS","CATAF","CATFS","FS","EF","CS","BF","OH","CH","CP","BD"],w=m.map((function(){return new Array(16).fill(g)})),C=t(8),k=t(9),y=k.a.div(r||(r=Object(C.a)(["\n  display: grid;\n  margin: 0 auto;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n  width: 75vw;\n  height: calc(100vh - 75px);\n"])),(function(n){return n.columns}),(function(n){return n.rows})),S=function(n,e,t){switch(!0){case n&&e:return"radial-gradient(#f8b6b6, #922c2c)";case n&&!e:return t<=5?"radial-gradient(#f3e775, #dbaf0e)":t>5&&t<=9?"radial-gradient(#5fed9f, #0abb07)":"radial-gradient(#2dcaed, #1d12e7)";case!n&&e:return"rgb(158, 156, 156)";default:return"rgb(41,40,40)"}},A=function(n,e,t){switch(!0){case n&&e:return"0 0 100px 50px #922c2c";case n&&!e:return t<=5?"0 0 20px 5px #dbaf0e":t>5&&t<=9?"0 0 20px 5px #0abb07":"0 0 20px 5px #1d12e7";case!n&&e:return"0 0 3px 1px rgb(212, 212, 212)";default:return"none"}},F=function(n,e){switch(!0){case n&&e:case n&&!e:case!n&&e:return"none";default:return"solid 2px grey"}},E=k.a.div.attrs((function(n){var e=n.activated,t=n.triggered,r=n.row;return{style:{background:S(e,t,r),boxShadow:A(e,t,r),border:F(e,t)}}}))(o||(o=Object(C.a)(["\n  border-radius: 4px;\n  grid-column: ",";\n  grid-row: ",";\n  margin: 5px;\n  transition: all 0.1s;\n\n  &:hover {\n    border-radius: 20px;\n    cursor: pointer;\n  }\n\n  @media (max-width: 860px) {\n    margin: 1px;\n  }\n"])),(function(n){return n.column}),(function(n){return n.row})),B=t(3),T=function(n){var e=n.sequence,t=n.handleToggleStep;return Object(B.jsx)(y,{rows:13,columns:16,children:e.map((function(n,r){return n.map((function(n,o){return Object(B.jsx)(E,{column:o+1,row:r+1,activated:e[r][o].activated,triggered:e[r][o].triggered,onClick:function(){t(r,o)}},r+o)}))}))})},z=k.a.div(c||(c=Object(C.a)(["\n  width: 100%;\n  height: 7vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  text-align: center;\n"]))),N=function(n){var e=n.children;return Object(B.jsx)(z,{children:e})},_=t(22);k.a.button(i||(i=Object(C.a)(["\n  color: #0abb07;\n  border: none;\n  background-color: transparent;\n  font-size: 2em;\n  transition: all 0.2s;\n  filter: drop-shadow(0px 0px 1px #0abb07);\n\n  &:hover {\n    filter: drop-shadow(0px 0px 4px #0abb07);\n    cursor: pointer;\n  }\n"]))),k.a.button(a||(a=Object(C.a)(["\n  color: #922c2c;\n  border: none;\n  background-color: transparent;\n  font-size: 2em;\n  transition: all 0.2s;\n  filter: drop-shadow(0px 0px 1px #922c2c);\n\n  &:hover {\n    filter: drop-shadow(0px 0px 4px #922c2c);\n    cursor: pointer;\n  }\n"])));var P,M,H,q,L,I,J,D,K,R,U,V,G={StopButton:k.a.button(s||(s=Object(C.a)(["\n  color: #9407bb;\n  border: none;\n  background-color: transparent;\n  font-size: 2em;\n  transition: all 0.2s;\n  filter: drop-shadow(0px 0px 1px #9407bb);\n\n  &:hover {\n    filter: drop-shadow(0px 0px 5px #9407bb);\n    cursor: pointer;\n  }\n  "])))},Q=function(n){var e=n.onClick;return Object(B.jsx)(G.StopButton,{onClick:e,children:Object(B.jsx)(_.c,{})})},W={Volume:k.a.input(P||(P=Object(C.a)(["\n    -webkit-appearance: none;\n    margin-bottom: 15px;\n    cursor: pointer;\n    width: 15%;\n    border-radius: 20px;\n    margin: 0.5em;\n\n    &::-webkit-slider-runnable-track {\n      height: 2px;\n      background: #646464;\n      border: none;\n      border-radius: 22%;\n    }\n\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      border: none;\n      height: 25px;\n      width: 25px;\n      border-radius: 7px;\n      background: radial-gradient(#bbe9d9, #0b996a);\n      box-shadow: 0px 0px 3px #0b996a;\n      margin-top: -11.5px;\n      transition: all 0.2s;\n    }\n\n    &::-webkit-slider-thumb:hover {\n      border-radius: 20px;\n      box-shadow: 0px 0px 10px #0b996a;\n      cursor: pointer;\n    }\n\n    &:focus {\n      outline: none;\n    }\n  "])))},X=function(n){var e=n.max,t=n.min,r=n.step,o=n.type,c=n.value,i=n.onChange;return Object(B.jsx)(W.Volume,{max:e,min:t,step:r,type:o,value:c,onChange:i})},Y={BPM:k.a.input(M||(M=Object(C.a)(["\n    -webkit-appearance: none;\n    margin-bottom: 15px;\n    cursor: pointer;\n    width: 15%;\n    border-radius: 20px;\n    direction: rtl;\n    margin: 0.5em;\n\n    &::-webkit-slider-runnable-track {\n      height: 2px;\n      background: #646464;\n      border: none;\n      border-radius: 22%;\n    }\n\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      border: none;\n      height: 25px;\n      width: 25px;\n      border-radius: 7px;\n      background: radial-gradient(rgb(121, 231, 238), rgb(3, 154, 168));\n      box-shadow: 0px 0px 3px rgb(3, 154, 168);\n      margin-top: -11.5px;\n      transition: all 0.2s;\n    }\n\n    &::-webkit-slider-thumb:hover {\n      box-shadow: 0px 0px 10px rgb(3, 154, 168);\n      border-radius: 20px;\n      cursor: pointer;\n    }\n\n    &:focus {\n      outline: none;\n    }\n  "])))},Z=function(n){var e=n.max,t=n.min,r=n.step,o=n.type,c=n.value,i=n.onChange;return Object(B.jsx)(Y.BPM,{max:e,min:t,step:r,type:o,value:c,onChange:i})},$=t(26),nn={PowerOn:k.a.button(H||(H=Object(C.a)(["\n  color: #0b996a;\n  border: none;\n  background-color: transparent;\n  font-size: 2em;\n  transition: all 0.2s;\n  filter: drop-shadow(0px 0px 1px #0b996a);\n\n  &:hover {\n    filter: drop-shadow(0px 0px 4px #0b996a);\n    cursor: pointer;\n  }\n"])))},en=function(n){var e=n.onClick;return Object(B.jsx)(nn.PowerOn,{onClick:e,children:Object(B.jsx)($.a,{})})},tn=t(55),rn={ClearAllButton:k.a.button(q||(q=Object(C.a)(["\ncolor: #b64900;\nborder: none;\nbackground-color: transparent;\nfont-size: 2em;\ntransition: all 0.2s;\nfilter: drop-shadow(0px 0px 1px #b64900);\n\n&:hover {\n  filter: drop-shadow(0px 0px 4px #b64900);\n  cursor: pointer;\n}\n  "])))},on=function(n){var e=n.onClick;return Object(B.jsx)(rn.ClearAllButton,{onClick:e,children:Object(B.jsx)(tn.a,{})})},cn={PowerOff:k.a.button(L||(L=Object(C.a)(["\ncolor: #922c2c;\nborder: none;\nbackground-color: transparent;\nfont-size: 2em;\ntransition: all 0.2s;\nfilter: drop-shadow(0px 0px 1px #922c2c);\n\n&:hover {\n  filter: drop-shadow(0px 0px 4px #922c2c);\n  cursor: pointer;\n}\n  "])))},an=function(n){var e=n.onClick;return Object(B.jsx)(cn.PowerOff,{onClick:e,children:Object(B.jsx)($.b,{})})},sn=(t(105),t(32)),ln=t(56),dn=k.a.div(I||(I=Object(C.a)(["\n    height: calc(100vh - 75px);\n    right: calc(100vw - 50px);\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n"]))),bn=k.a.h1.attrs((function(n){return{style:{color:n.pianoActive?"#dbaf0e":"white"}}}))(J||(J=Object(C.a)(["\n  &::after {\n    content: '';\n    height: 37.5%;\n    width: calc(7vw - 35px); \n    top: 0.2%;\n    left: 160%;\n    border-left: 1px solid white;\n    border-top: 1px solid white;\n    border-bottom: 1px solid white;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n    position: absolute;\n  }\n"]))),un=k.a.h1(D||(D=Object(C.a)(["\n  color: white;\n  &::after {\n    content: '';\n    height: 30.5%;\n    width: calc(7vw - 35px); \n    top: 38.5%;\n    left: 160%;\n    border-left: 1px solid white;\n    border-top: 1px solid white;\n    border-bottom: 1px solid white;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n    position: absolute;\n  }\n"]))),pn=k.a.h1(K||(K=Object(C.a)(["\n  color: white;\n  &::after {\n    content: '';\n    height: 30%;\n    width: calc(7vw - 35px); \n    top: 69.8%;\n    left: 160%;\n    border-left: 1px solid white;\n    border-top: 1px solid white;\n    border-bottom: 1px solid white;\n    border-top-left-radius: 20px;\n    border-bottom-left-radius: 20px;\n    position: absolute;\n  }\n"])));function jn(n){var e=n.pianoActive;return Object(B.jsxs)(dn,{children:[Object(B.jsx)(bn,{pianoActive:e,children:Object(B.jsx)(ln.a,{})}),Object(B.jsx)(un,{children:Object(B.jsx)(sn.b,{})}),Object(B.jsx)(pn,{children:Object(B.jsx)(sn.a,{})})]})}function xn(){var n=k.a.div(R||(R=Object(C.a)(["\n    height: calc(100vh - 75px);\n    left: calc(100vw - 12vw);\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    flex-direction: column;\n    position: absolute;\n  "]))),e=k.a.div(U||(U=Object(C.a)(['\n    color: white;\n    font-family: "Fuzzy Bubbles", cursive;\n    font-size: calc(5vh - 2vh);\n  '])));return Object(B.jsx)("div",{children:Object(B.jsxs)(n,{children:[Object(B.jsx)(e,{children:"F#"}),Object(B.jsx)(e,{children:"E"}),Object(B.jsx)(e,{children:"C#"}),Object(B.jsx)(e,{children:"A"}),Object(B.jsx)(e,{children:"F#"}),Object(B.jsx)(e,{children:"F#"}),Object(B.jsx)(e,{children:"E"}),Object(B.jsx)(e,{children:"C#"}),Object(B.jsx)(e,{children:"B"}),Object(B.jsx)(e,{children:"OP-HAT"}),Object(B.jsx)(e,{children:"HI-HAT"}),Object(B.jsx)(e,{children:"SNARE"}),Object(B.jsx)(e,{children:"KICK"})]})})}var hn=k.a.button(V||(V=Object(C.a)(['\n  border: 1px solid #fff;\n  background: transparent;\n  color: #fff;\n  font-size: 1.4rem;\n  border-radius: 5px;\n  transition: 0.2s ease-in-out;\n  font-family: "Fuzzy Bubbles", cursive;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #f8f8ff;\n    color: #000;\n  }\n'])));var fn=function(n){var e=n.onMouseEnter,t=n.onMouseLeave;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(hn,{onMouseEnter:e,onMouseLeave:t,children:"Instructions"})})};JSON.parse(JSON.stringify(w));function On(n){var e=n.player,t=n.socket,r=Object(l.useState)(w),o=Object(p.a)(r,2),c=o[0],i=o[1],a=Object(l.useState)(!1),s=Object(p.a)(a,2),d=s[0],b=s[1],u=Object(l.useState)(0),j=Object(p.a)(u,2),x=j[0],h=j[1],f=Object(l.useState)(-12),O=Object(p.a)(f,2),g=O[0],C=O[1],k=Object(l.useState)(100),y=Object(p.a)(k,2),S=y[0],A=y[1],F=Object(l.useState)(!1),E=Object(p.a)(F,2),z=E[0],_=E[1],P=Object(l.useState)(!1),M=Object(p.a)(P,2),H=M[0],q=M[1],L=Object(l.useState)(!1),I=Object(p.a)(L,2),J=I[0],D=I[1],K=Object(l.useState)(!0),R=Object(p.a)(K,2),U=R[0],V=R[1],G=Object(l.useState)(!0),W=Object(p.a)(G,2),Y=W[0],$=W[1],nn=function(n,e){var t=Object(v.a)(c),r=t[n][e],o=r.triggered,a=r.activated;t[n][e]={triggered:o,activated:!a},i(t),function(n,e){var t=Object(v.a)(c),r=t[n][e].activated;console.log("activated",r),console.log("line",n),console.log("step",e);for(var o=0;o<t[n].length;o++)r&&n<5?D(!0):r&&n>=5&&n<10?V(!0):r&&n>=10?$(!0):D(!1)}(n,e)},tn=function(n){for(var t=0;t<c.length;t++)for(var r=0;r<c[t].length;r++){var o=c[t][r],a=o.triggered,s=o.activated;c[t][r]={activated:s,triggered:r===n},a&&s&&(e.volume.value=g,e.player(m[t]).start())}i(c)},rn=function(n){t.emit("rewind",{tog:n})};return Object(l.useEffect)((function(){t.on("arm",(function(n){nn(n.x,n.z)})),t.on("switch",(function(n){b(n.tog),z&&(h(0),tn(x)),_(!1),console.log(d)})),t.on("rewind",(function(n){b(!1),_(n.tog)})),t.on("clearAll",(function(){!function(){for(var n=0;n<c.length;n++)for(var e=0;e<c[n].length;e++){var t=c[n][e],r=t.triggered,o=t.activated;(r||o)&&(c[n][e]={activated:!1,triggered:!1})}i(c)}(),h(0),b(!1)})),t.on("BPM",(function(n){A(n.value)}))}),[]),Object(l.useEffect)((function(){var n=setTimeout((function(){d&&(h((x+1)%16),tn(x))}),S);return function(){clearTimeout(n)}}),[x,d,S,c,z]),Object(B.jsxs)("div",{className:"Sequencer",children:[Object(B.jsxs)(N,{children:[Object(B.jsx)(Q,{onClick:function(){return rn(!0)}}),Object(B.jsx)(Z,{max:"150",min:"60",step:"10",type:"range",value:S,onChange:function(n){t.emit("BPM",{value:n.target.value})}}),Object(B.jsx)(X,{max:"4",min:"-60",step:"2",type:"range",value:g,onChange:function(n){C(n.target.value)}}),-60===g?Object(B.jsx)(an,{onClick:function(){C(-12)}}):Object(B.jsx)(en,{onClick:function(){C(-60)}}),Object(B.jsx)(on,{onClick:function(){t.emit("clearAll")}}),Object(B.jsx)(fn,{onMouseEnter:function(){return q(!0)},onMouseLeave:function(){return q(!1)}})]}),Object(B.jsx)(xn,{}),Object(B.jsx)(jn,{pianoActive:J,bassActive:U,drumsActive:Y}),Object(B.jsx)(T,{sequence:c,handleToggleStep:function(n,e){t.emit("arm",{x:n,z:e})},handleStopPlaying:rn}),H&&Object(B.jsxs)("div",{className:"instructions",children:[Object(B.jsx)("h1",{children:"Instructions"}),Object(B.jsxs)("ul",{children:[Object(B.jsx)("li",{children:"First thing! Share it with friends and play music simultaneously"}),Object(B.jsx)("li",{children:"*Click on a cell to trigger a sound"}),Object(B.jsx)("li",{children:"*Click the play button to start the sequencer"}),Object(B.jsx)("li",{children:"*Click the stop button to stop the sequencer"}),Object(B.jsx)("li",{children:"*Click the clear all button to clear the sequencer"}),Object(B.jsx)("li",{children:"*Use the volume slider to adjust the volume"}),Object(B.jsx)("li",{children:"*Use the BPM slider to adjust the tempo"}),Object(B.jsx)("li",{children:"*Left side shows the instruments being played"}),Object(B.jsx)("li",{children:"*Right side shows the notes being played"})]})]})]})}var vn=d.a.memo(On),gn=(t(106),function(){return Object(B.jsx)("div",{className:"loader",children:Object(B.jsxs)("div",{className:"bm-pl",children:[Object(B.jsx)("div",{className:"bm-pl__blob bm-pl__blob--r"}),Object(B.jsx)("div",{className:"bm-pl__blob bm-pl__blob--g"}),Object(B.jsx)("div",{className:"bm-pl__blob bm-pl__blob--b"})]})})}),mn=(t(107),t(57)),wn=function(){return Object(B.jsx)("div",{className:"overlay",children:Object(B.jsx)("div",{className:"iconContainer",children:Object(B.jsx)("div",{className:"phone",children:Object(B.jsx)("p",{children:Object(B.jsx)(mn.a,{})})})})})},Cn=(t(108),h.io.connect("/"));var kn=function(){var n=Object(l.useState)(window.screen.orientation.type),e=Object(p.a)(n,2),t=e[0],r=e[1];return Object(l.useEffect)((function(){var n=function(){return r(window.screen.orientation.type)};return window.addEventListener("orientationchange",n),function(){return window.removeEventListener("orientationchange",n)}}),[]),Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(j.a,{children:Object(B.jsx)(x.c,{children:Object(B.jsx)(x.a,{path:"/",element:Object(B.jsx)(O,{children:function(n){var e=n.player;return e?"portrait-primary"===t?Object(B.jsx)(wn,{}):Object(B.jsx)(vn,{player:e,socket:Cn}):Object(B.jsx)(gn,{})}})})})})})};u.a.render(Object(B.jsx)(kn,{}),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.ec6a299b.chunk.js.map